(this["webpackJsonpget-me-a-slot"]=this["webpackJsonpget-me-a-slot"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(10),i=a.n(c),l=a(8),r=a.n(l),o=a(11),u=a(4),d=a(37),j=a(9),p=a(38),b=a(29),m=a(24),h=a(25),f=a(39),O=a(30),v=a(31),x=a(40);function g(e){var t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),t+"-"+a+"-"+e.getFullYear()}function S(e,t){return void 0===t||null===t||"string"===typeof t&&""===t.trim()||void 0!==e&&null!==e&&e===function(e){var t=e.getMonth()+1,a=e.getDate();t<10&&(t="0"+t);a<10&&(a="0"+a);return a+"-"+t+"-"+e.getFullYear()}(t)}var y,D=a(21),N=function(e){var t="";"searchByPin"===e.selectedSearch?t=e.showFutureDates?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode="+e.pin+"&date="+g(new Date):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode="+e.pin+"&date="+g(new Date):"searchByDistrict"===e.selectedSearch&&(t=e.showFutureDates?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+e.selectedDistrict+"&date="+g(new Date):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id="+e.selectedDistrict+"&date="+g(new Date)),e.showFutureDates?(w({url:t,setDataSet:e.setDataSet}),e.autoRefresh&&(y=setInterval(Object(o.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:w({url:t,setDataSet:e.setDataSet});case 1:case"end":return a.stop()}}),a)}))),5e3))):(C({url:t,setDataSet:e.setDataSet}),e.autoRefresh&&(y=setInterval(Object(o.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:C({url:t,setDataSet:e.setDataSet});case 1:case"end":return a.stop()}}),a)}))),5e3)))},w=function(e){var t=e.url,a=e.setDataSet;t&&fetch(t,{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return a({slots:e})})).catch((function(e){return a({error:e})}))},C=function(e){var t=e.url,a=e.setDataSet;if(t){var n=(new Date).toLocaleString();fetch(t,{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return a(function(e,t){var a={errorMessage:"",timeStamp:t,slotList:[]};return e.length||(a.errorMessage="No slots available. Please refine search criteria"),e.forEach((function(e){var t={name:e.name,address:e.address,district_name:e.district_name,pincode:e.pincode,fee_type:e.fee_type,fee:e.fee,date:e.date,age:18===e.min_age_limit?"Age 18+":"Age 45+",vaccine:e.vaccine};e.available_capacity_dose1&&a.slotList.push(Object(D.a)(Object(D.a)({},t),{},{dose:"Dose1",doseCapacity:e.available_capacity_dose1})),e.available_capacity_dose2&&a.slotList.push(Object(D.a)(Object(D.a)({},t),{},{dose:"Dose2",doseCapacity:e.available_capacity_dose2}))})),a}(e.sessions,n))})).catch((function(e){return a(function(e,t){return{errorMessage:"Not able to connect Cowin server at ".concat(t,". If auto refresh is not checked please search again"),timeStamp:t,slotList:[]}}(0,n))}))}},F=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,s,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in a=t.url,n=t.requestParams,s="",n)s=0===s.length?"?"+c+"="+n[c]:s+"&"+c+"="+n[c];return i=fetch(a+s,{method:"GET",headers:{Accept:"application/json"}}),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=a(1);function B(e){var t,a=e.statesList,c=e.setDataSet,i=e.displaySearchDialog,l=e.setDisplaySearchDialog,d=Object(n.useRef)(null),g=Object(n.useState)("searchByPin"),S=Object(u.a)(g,2),D=S[0],w=S[1],C=Object(n.useState)(),B=Object(u.a)(C,2),_=B[0],P=B[1],I=Object(n.useState)(""),A=Object(u.a)(I,2),L=A[0],E=A[1],M=Object(n.useState)(""),T=Object(u.a)(M,2),V=T[0],R=T[1],H=Object(n.useState)(!1),W=Object(u.a)(H,2),G=W[0],z=W[1],J=Object(n.useState)(!1),X=Object(u.a)(J,2),Y=X[0],$=X[1],q=Object(n.useState)(!1),U=Object(u.a)(q,2),K=U[0],Q=U[1],Z=Object(n.useState)([]),ee=Object(u.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),se=Object(u.a)(ne,2),ce=se[0],ie=se[1],le=function(){/^[1-9][0-9]{5}$/.test(_)?(l(!1),Y&&Q(!0),N({selectedSearch:D,pin:_,autoRefresh:Y,showFutureDates:G,setDataSet:c})):d.current.show({sticky:!0,severity:"error",summary:"Invalid pincode"})},re=function(){V?(l(!1),Y&&Q(!0),N({selectedSearch:D,selectedDistrict:V,autoRefresh:Y,showFutureDates:G,setDataSet:c})):d.current.show({sticky:!0,severity:"error",summary:"Please select district"})},oe=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!t),E(t),e.next=4,F({url:"https://cdn-api.co-vin.in/api/v2/admin/location/districts"+"/".concat(t)});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,ae(n.districts);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t="searchByPin"===D?Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(f.InputNumber,{value:_,onChange:function(e){return P(e.value)},className:"p-col-12",placeholder:"Enter Pincode",useGrouping:!1,disabled:K}),Object(k.jsx)("div",{className:"p-col-12"})]}):"searchByDistrict"===D?Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(v.Dropdown,{optionLabel:"state_name",optionValue:"state_id",value:L,options:a,onChange:function(e){return oe(e.value)},placeholder:"Select state",className:"p-col-12",disabled:K}),Object(k.jsx)(v.Dropdown,{optionLabel:"district_name",optionValue:"district_id",value:V,options:te,onChange:function(e){return R(e.value)},className:"p-col-12",placeholder:"Select district",disabled:ce||K})]}):Object(k.jsx)("div",{children:"Something went wrong. Please reload"}),Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)(h.Dialog,{header:"Search Slots",visible:i,onHide:function(){return l(!1)},resizable:!1,breakpoints:{1200:"75vw","640px":"100vw"},style:{width:"30vw"},children:[Object(k.jsx)("div",{className:"p-grid",children:Object(k.jsx)("div",{className:"p-col p-d-flex p-jc-center",children:Object(k.jsx)(p.SelectButton,{value:D,options:[{label:"By Pin",value:"searchByPin"},{label:"By District",value:"searchByDistrict"}],onChange:function(e){var t;null===(t=e.value)?w(D):(w(t),d&&d.current&&d.current.clear())}})})}),Object(k.jsx)(b.Divider,{className:"p-mt-1"}),Object(k.jsxs)("div",{className:"p-grid",children:[t,Object(k.jsxs)("div",{className:"p-col-12",children:[Object(k.jsx)(O.Checkbox,{checked:G,onChange:function(e){return z(e.checked)},inputId:"futureDates",disabled:K}),Object(k.jsx)("label",{htmlFor:"futureDates",className:"p-checkbox-label  p-ml-2",children:"Show for future dates"})]}),Object(k.jsxs)("div",{className:"p-col-12",children:[Object(k.jsx)(O.Checkbox,{checked:Y,onChange:function(e){return $(e.checked)},inputId:"autoRefresh",disabled:K}),Object(k.jsx)("label",{htmlFor:"autoRefresh",className:"p-checkbox-label  p-ml-2",children:"Auto refresh"})]}),Object(k.jsx)("div",{className:"p-col-12",children:Object(k.jsx)(j.Button,{label:"Find slot",className:"p-button p-col-12",onClick:function(){"searchByPin"===D?le():"searchByDistrict"===D&&re()},disabled:K})}),K&&Object(k.jsx)("div",{className:"p-col-12",children:Object(k.jsx)(j.Button,{label:"Stop search",className:"p-button p-col-12",onClick:function(){clearInterval&&clearInterval(y),Q(!1)}})}),Object(k.jsx)(x.Messages,{ref:d,className:"p-col-12 searchFieldErrorMessage"})]}),Object(k.jsx)(b.Divider,{className:"p-mt-2"}),Object(k.jsxs)(m.Card,{className:"disclaimer",children:[Object(k.jsxs)("p",{children:["Do not close the browser if ",Object(k.jsx)("b",{children:"'Auto refresh'"})," is selected. Once any slot is available the details will be displayed and you will also get a notification sound."]}),Object(k.jsx)("p",{children:"Disclaimer : While we have real-time data, slot availability on CoWin changes rapidly. If you see availability, please book on CoWin instantly before the slots are lost."})]})]})})}var _=a(19);function P(e){var t=e.displaySubscribeDialog,a=e.setDisplaySubscribeDialog,c=Object(n.useState)(""),i=Object(u.a)(c,2),l=i[0],r=i[1],o=Object(n.useState)(""),d=Object(u.a)(o,2),p=d[0],b=d[1],m=Object(n.useState)(!1),f=Object(u.a)(m,2),O=f[0],v=f[1];return Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)(h.Dialog,{header:"Subscribe slots notification",visible:t,onHide:function(){return a(!1)},resizable:!1,breakpoints:{1200:"75vw","640px":"100vw"},style:{width:"30vw"},children:[Object(k.jsx)(_.InputText,{value:p,onChange:function(e){return function(e){b(e);var t=/^[1-9][0-9]{5}$/;v(e.split(",").every((function(e){return t.test(e)})))}(e.target.value)},className:"p-col-12",placeholder:"Enter Pincode(use , from multiple)"}),Object(k.jsx)(_.InputText,{value:l,onChange:function(e){return r(e.value)},className:"p-col-12",style:{marginTop:"1rem"},placeholder:"Enter email id"}),Object(k.jsx)("div",{className:"p-col-12",style:{padding:"0.5rem 0"},children:Object(k.jsx)(j.Button,{label:"Subscribe",className:"p-button p-col-12",onClick:function(){p.split(",").forEach((function(e){e.startsWith(0)||console.log(e)}))},style:{marginTop:"0.5rem"},disabled:!O})})]})})}function I(e){var t=e.states,a=e.setDataSet,c=Object(n.useState)(!1),i=Object(u.a)(c,2),l=i[0],r=i[1],o=Object(n.useState)(!1),p=Object(u.a)(o,2),b=p[0],m=p[1];Object(n.useEffect)((function(){r(!0)}),[]);var h=[{template:function(){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(j.Button,{label:"Search Slots",icon:"pi pi-bell",className:"p-button-raised p-mr-2",onClick:function(){return r(!0)}}),Object(k.jsx)(B,{statesList:t,setDataSet:a,displaySearchDialog:l,setDisplaySearchDialog:r})]})}},{template:function(){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)(j.Button,{label:"Notify Slots",icon:"pi pi-bell",className:"p-button-raised p-mr-2",onClick:function(){return m(!0)}}),Object(k.jsx)(P,{displaySubscribeDialog:b,setDisplaySubscribeDialog:m})]})}},{template:function(){return Object(k.jsx)(j.Button,{label:"About Us",icon:"pi pi-users",className:"p-button-raised p-mr-2"})}},{template:function(){return Object(k.jsx)(j.Button,{label:"Donate",icon:"pi pi-bell",className:"p-button-raised p-mr-2"})}}];return Object(k.jsx)(s.a.Fragment,{children:Object(k.jsx)("div",{className:"card",children:Object(k.jsx)(d.Menubar,{model:h})})})}var A=a(41),L=a(13),E=a(42),M=a(20),T=a(32),V=function(e){return Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)("h3",{className:"nameColumn p-m-0 p-p-0",children:[e.name,Object(k.jsx)("br",{}),Object(k.jsx)("i",{className:"pi pi-map-marker p-mt-1"}),Object(k.jsxs)("span",{className:"p-ml-1",children:[e.address,", ",e.district_name]})]})})},R=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"District"}),Object(k.jsx)("span",{className:"image-text",children:e.pincode})]})},H=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"Dose (Slots)"}),Object(k.jsx)("span",{className:"image-text",children:e.dose}),Object(k.jsx)(T.Badge,{value:e.doseCapacity,severity:"success",className:"p-ml-2"})]})},W=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"Fee"}),Object(k.jsx)("span",{className:"image-text",children:e.fee_type}),"Paid"===e.fee_type&&Object(k.jsx)(T.Badge,{value:e.fee,severity:"danger",className:"p-ml-2"})]})},G=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"Age"}),Object(k.jsx)("span",{className:"image-text",children:e.age})]})},z=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"Vaccine"}),Object(k.jsx)("span",{className:"image-text",children:e.vaccine})]})},J=function(e){return Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("span",{className:"p-column-title",children:"Date"}),Object(k.jsx)("span",{children:e.date})]})},X=function(e){return Object(k.jsx)("div",{className:"p-multiselect-representative-option",children:Object(k.jsx)("span",{className:"image-text",children:e.name})})},Y=function(e){return Object(k.jsx)("div",{children:Object(k.jsx)("span",{className:"image-text",children:e.name})})},$=function(e){return Object(k.jsx)("div",{children:Object(k.jsx)("span",{className:"image-text",children:e.name})})};function q(e){var t=e.dataSet,a=Object(n.useRef)(null),s=Object(n.useState)(""),c=Object(u.a)(s,2),i=c[0],l=c[1],r=Object(n.useState)(null),o=Object(u.a)(r,2),d=o[0],p=o[1],b=Object(n.useState)(null),m=Object(u.a)(b,2),h=m[0],f=m[1],O=Object(n.useState)(null),v=Object(u.a)(O,2),x=v[0],g=v[1],y=Object(n.useState)(null),D=Object(u.a)(y,2),N=D[0],w=D[1],C=Object(n.useState)(null),F=Object(u.a)(C,2),B=F[0],P=F[1],I=Object(n.useState)(!0),T=Object(u.a)(I,2),q=T[0],U=T[1],K=Object(k.jsxs)("div",{className:"table-header p-grid p-m-0",children:[Object(k.jsx)(j.Button,{icon:"pi pi-volume-up",className:"p-d-none p-mr-2 p-d-md-".concat(q?"inline":"none"),onClick:function(){return U(!1)}}),Object(k.jsx)(j.Button,{icon:"pi pi-volume-off",className:"p-d-none p-mr-2 p-d-md-".concat(q?"none":"inline"),onClick:function(){return U(!0)}}),Object(k.jsxs)("div",{className:"p-inputgroup p-col-12 p-md-5 p-lg-3 p-p-0",children:[Object(k.jsx)(_.InputText,{type:"search",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Global Search"}),Object(k.jsx)(j.Button,{icon:"pi pi-filter-slash",onClick:function(){p(null),P(null),f(null),g(null),w(null),l(""),a.current.reset()}})]})]}),Q=Object(k.jsx)(M.MultiSelect,{value:d,options:[{name:"Dose1",value:"Dose1"},{name:"Dose2",value:"Dose2"}],itemTemplate:X,onChange:function(e){a.current.filter(e.value,"dose","in"),p(e.value)},optionLabel:"name",optionValue:"value",placeholder:"All",className:"p-column-filter"}),Z=Object(k.jsx)(M.MultiSelect,{value:h,options:[{name:"Free",value:"Free"},{name:"Paid",value:"Paid"}],itemTemplate:Y,onChange:function(e){a.current.filter(e.value,"fee_type","in"),f(e.value)},optionLabel:"name",optionValue:"value",placeholder:"All",className:"p-column-filter"}),ee=Object(k.jsx)(M.MultiSelect,{value:x,options:[{name:"Age 18+",value:"Age 18+"},{name:"Age 45+",value:"Age 45+"}],itemTemplate:$,onChange:function(e){a.current.filter(e.value,"age","in"),g(e.value)},optionLabel:"name",optionValue:"value",placeholder:"All",className:"p-column-filter"}),te=Object(k.jsx)(M.MultiSelect,{value:N,options:[{name:"COVISHIELD",value:"COVISHIELD"},{name:"COVAXIN",value:"COVAXIN"}],onChange:function(e){a.current.filter(e.value,"vaccine","in"),w(e.value)},optionLabel:"name",optionValue:"value",placeholder:"All",style:{width:"100%"}}),ae=Object(k.jsx)(E.Calendar,{value:B,onChange:function(e){a.current.filter(e.value,"date","custom"),P(e.value)},dateFormat:"dd-mm-yy",className:"p-column-filter",placeholder:"Date"});return Object(k.jsx)("div",{className:"datatable-slots-container",children:Object(k.jsx)("div",{className:"card",children:Object(k.jsxs)(A.DataTable,{ref:a,value:t.slotList,paginator:!0,rows:10,header:K,className:"p-datatable-slots p-datatable-gridlines p-datatable-striped",globalFilter:i,emptyMessage:t.errorMessage,paginatorPosition:"top",alwaysShowPaginator:!1,children:[Object(k.jsx)(L.Column,{style:{width:"25%"},field:"name",header:"Name",body:V,sortable:!0}),Object(k.jsx)(L.Column,{style:{width:"10%"},field:"pincode",header:"Pincode",body:R,sortable:!0}),Object(k.jsx)(L.Column,{field:"date",header:"Date",body:J,filter:!0,filterElement:ae,filterFunction:S}),Object(k.jsx)(L.Column,{field:"dose",header:"Dose (Slots)",body:H,filter:!0,filterElement:Q}),Object(k.jsx)(L.Column,{field:"fee_type",header:"Fee",body:W,filter:!0,filterElement:Z}),Object(k.jsx)(L.Column,{field:"age",header:"Age",body:G,filter:!0,filterElement:ee}),Object(k.jsx)(L.Column,{field:"vaccine",header:"Vaccine",body:z,filter:!0,filterElement:te})]})})})}var U=a.p+"static/media/beep.40e5c7db.mp3",K=a(43);function Q(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useState)([]),c=Object(u.a)(a,2),i=c[0],l=c[1],d=Object(n.useState)({errorMessage:"Start searching to view slots availability",timeStamp:"",slotList:[]}),j=Object(u.a)(d,2),p=j[0],b=j[1];return Object(n.useEffect)((function(){Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({url:"https://cdn-api.co-vin.in/api/v2/admin/location/states"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.states);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(k.jsxs)(s.a.Fragment,{children:[Object(k.jsx)("div",{className:"p-grid full-height",children:Object(k.jsx)("div",{className:"p-col-12 full-height",children:Object(k.jsxs)("div",{className:"p-grid",children:[Object(k.jsx)(K.Toast,{ref:t,position:"bottom-right"}),Object(k.jsx)("div",{className:"p-col-12 p-mb-0",children:Object(k.jsx)(I,{states:i,setDataSet:function(a){a.slotList.length&&e.current.play(),t.current.show({severity:"info",summary:"Checked cowin portal at: ",detail:a.timeStamp,life:3e3}),b(a)}})}),Object(k.jsx)("div",{className:"p-col-12 bottom-panel",children:Object(k.jsx)(m.Card,{className:"p-col-12",children:Object(k.jsx)(q,{dataSet:p})})})]})})}),Object(k.jsx)("audio",{ref:e,children:Object(k.jsx)("source",{src:U})})]})}var Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,107)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};a(100),a(101),a(102),a(103),a(104),a(105);i.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(Q,{})}),document.getElementById("root")),Z()}},[[106,1,2]]]);
//# sourceMappingURL=main.8bb2d69b.chunk.js.map